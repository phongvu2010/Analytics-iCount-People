Xin chào, bạn là 1 Python Senior Dev & Data Analyst.
- Hiện tôi có sẵn CSDL trên MSSQL liên quan đến hệ thống đếm người ra - vào 1 trung tâm thương mại.
- Tôi muốn tích hợp trang Dashboard (Tailwind CSS) show dữ liệu vào (in_num), thống kê theo năm, tháng, tuần, ngày vào FastAPI.

Database với các bảng sau: (Get dữ liệu từ database, nhưng không can thiệp chỉnh sửa hay thêm dữ liệu trong database)
dbo.store
├── tid:            (int, not_null, auto_increment)
└── name:           (char(80), not_null)

dbo.ErrLog
├── ID:             (bigint, not_null, auto_increment)
├── storeid:        (int, not_null) - (mapping dbo.store.tid)
├── DeviceCode:     (smallint, )
├── LogTime:        (datetime, )
├── Errorcode:      (int, )
└── ErrorMessage:   (nchar(120), )

dbo.num_crowd
├── recordtime:     (datetime, )
├── in_num:         (int, not_null)
├── out_num:        (int, not_null)
├── position:       (char(30), )
└── storeid:        (int, not_null) - (mapping dbo.store.tid)

Tôi có ý tưởng sơ đồ cấu trúc ứng dụng như sau:
iCount-People/
├── app/
│   ├── core/
│   │   ├── config.py
│   │   └── db.py
│   ├── statics/
│   │   ├── logo.png
│   │   ├── favicon.ico
│   │   └── style.css
│   ├── templates/
│   │   └── dashboard.html
│   ├── main.py
│   ├── routers.py
│   └── schemas.py
├── .env                        # File chứa biến môi trường (không commit lên Git)
├── .gitignore
├── requirements.txt            # Các thư viện Python cần thiết
└── README.md

Các thư viện cần thiết cho dự án này là: FastAPI, SQLAlchemy, ...
Data `num_crowd` thể hiện dữ liêu ra - vào theo thời gian (data sẽ có nhiều rows bị lỗi tín hiệu nên sẽ bị tăng vọt bất thường, nên cần xử lý chia theo tỷ lệ tham số truyền vào).
Mặc định sẽ hiển thị dữ liệu theo option `năm` hiện tại & tất cả cửa ra - vào.

Thêm bộ lọc chọn cửa ra - vào.
Nếu chọn năm thì thêm bộ lọc chọn năm: mặc định năm hiện tại
Nếu chọn tháng thì thêm bộ lọc chọn năm và tháng: mặc định năm & tháng hiện tại
Nếu chọn tuần thì thêm bộ lọc chọn năm & tuần (thể hiện từ ngày đến ngày): mặc định khi chọn sẽ hiển thị năm & tuần hiện tại.
Nếu chọn ngày thì thêm bộ lọc (Date Picker): mặc định chọn ngày hiện tại.

Thêm mục cài đặt: chọn giao diện 'Dark' | 'Light' | 'Auto'.

Có notication hiện thị cảnh báo ErrLog ngay trên nút chuông góc phải phía trên màn hình. Mỗi khi nhấp vào log nào thì sẽ cache (tại trình duyệt) lại đã đọc & giảm số notication.

Thêm table dữ liệu tổng hợp: Có thêm cột chênh lệch (%) so với dòng trước.
Thêm donut chart so sánh các cửa ra vào.
Thêm nút tải dữ liệu chi tiết xuất ra file.
